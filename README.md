# מלונית רוטשילד 79 - מערכת ניהול

אפליקציית ניהול למלונית רוטשילד 79 בפתח תקווה. המערכת מאפשרת ניהול של חדרים, הזמנות ולקוחות.

## תמיכה בנגישות

המערכת תומכת באופן מלא בתקן הנגישות הישראלי ת"י 5568, ומציעה אפשרויות התאמה שונות לשיפור חוויית המשתמש עבור אנשים עם מוגבלויות.

## דרישות מערכת

- Node.js גרסה 14 ומעלה
- NPM גרסה 6 ומעלה
- גישה לאינטרנט (עבור התקנת חבילות ומסד נתונים)
- דפדפן מודרני

## התקנה

### התקנת התלויות

```bash
# התקנת כל התלויות (שרת + לקוח)
npm run install-all
```

### הגדרות סביבה

1. בתיקיית `server`, צור קובץ `.env` עם התוכן הבא:

```env
MONGODB_URI=<כתובת חיבור למסד הנתונים>
JWT_SECRET=<מפתח סודי עבור JWT>
PORT=5500
# הגדרות נוספות...
```

2. בתיקיית `client`, צור קובץ `.env` עם התוכן הבא:

```env
REACT_APP_API_URL=http://localhost:5500/api
```

## הפעלה

### פיתוח

להפעלת הפרויקט במצב פיתוח (שרת + לקוח במקביל):

```bash
npm run dev
```

### הפעלה נפרדת

הפעלת השרת:

```bash
npm run server
```

הפעלת הלקוח:

```bash
npm run client
```

### בניית גרסת ייצור

```bash
npm run build
```

## גישה לאפליקציה

- **ממשק משתמש (לקוח)**: [http://localhost:3000](http://localhost:3000)
- **שרת ה-API**: [http://localhost:5500](http://localhost:5500)

## פתרון בעיות נפוצות

### הפורט כבר בשימוש

אם אתה מקבל שגיאה שהפורט 5500 או 3000 כבר בשימוש:

```bash
# סגירת כל תהליכי Node.js
killall node
```

### רענון הגדרות

לאחר שינויים בקבצי `.env`, יש להפעיל מחדש את האפליקציה.

## מידע נוסף

הפרויקט בנוי עם:
- **צד שרת**: Node.js, Express, MongoDB
- **צד לקוח**: React, Material-UI

## מסמכי פרויקט

- [מסמך חזון לדף ניהול הזמנות מאוחד](docs/vision-booking-manager.md) - מסמך חזון לאיחוד דפי ניהול ההזמנות
- [Vision Document for Unified Booking Management](docs/vision-booking-manager-en.md) - English version

## מבנה המערכת

- **שרת**: Node.js + Express
- **מסד נתונים**: MongoDB Atlas
- **פרונט-אנד**: React

## תיקיות המערכת

- `/client` - צד לקוח (React)
- `/server` - צד שרת (Node.js + Express)

## הוראות התקנה והרצה

ראה בקובץ `SETUP.md` להוראות מפורטות להתקנה והפעלה של המערכת.

## עודכן לאחרונה
אפליקציה זו עודכנה לגרסה 1 ב-9.3.2025 

## עדכונים אחרונים

### איחוד נתיבי API (6 באפריל 2024)

בוצעה האחדה של קבצי ניתוב כפולים כדי לשפר את תחזוקת הקוד ולמנוע בלבול:

1. **נתיבי חדרים**:
   - קובץ `routes/roomRoutes.js` אוחד לתוך `routes/rooms.js`
   - כל נתיבי ה-API הקשורים לחדרים נמצאים כעת בקובץ אחד

2. **נתיבי הזמנות**:
   - קובץ `routes/bookingRoutes.js` אוחד לתוך `routes/bookings.js`
   - כל נתיבי ה-API הקשורים להזמנות נמצאים כעת בקובץ אחד

שימו לב: הקבצים המקוריים `roomRoutes.js` ו-`bookingRoutes.js` עדיין נמצאים בתיקייה אך אינם בשימוש יותר.
ב-`server.js` הטעינה שלהם והשימוש בהם הוסרו והוחלפו בהערות מתאימות. 